{"version":3,"file":"static/js/230.b97a1226.chunk.js","mappings":"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","sources":["components/LoginForm.jsx","utils/cookie.js"],"sourcesContent":["import {useForm} from \"react-hook-form\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport { signInUser } from \"../utils/slice/UserDataSlice\"\r\nimport {setCookie, getCookie} from \"../utils/cookie\"\r\nimport { useEffect } from \"react\"\r\nconst LoginForm = () => {\r\n    // if the access token is present then redirect to HOME page || No need of LoginForm\r\n    useEffect(()=>{\r\n        console.log(\"üíÅüèª‚Äç‚ôÇÔ∏èüíÅüèª‚Äç‚ôÇÔ∏è\")\r\n        if(getCookie(\"at\")){\r\n            console.log(\"Redirecting to Home Page=======================>\", getCookie(\"at\"))\r\n            return navigate(\"/\")\r\n        }\r\n    }, [])\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    \r\n    const {user : currentUser, isLoading, error} = useSelector((state)=> state.userData)\r\n\r\n\r\n\r\n    const rhfOnSubmit = (data) =>{\r\n        \r\n        dispatch(signInUser(data))\r\n    }\r\n\r\n    \r\n    const {register, handleSubmit, formState: {errors, isSubmitting}} = useForm()\r\n    \r\n    // check whether sign in happened or not\r\n\r\n    if(!isLoading && !error && currentUser){\r\n        console.log(\"‚úÖ Login Done \")\r\n        const {stsTokenManager} = JSON.parse(currentUser)\r\n        \r\n        // need to set the access token as cookie and redirect to Home page\r\n        setCookie(\"at\", stsTokenManager.accessToken, 30)\r\n        return navigate(\"/\")\r\n    }\r\n    // if not sign in then render the form\r\n    return (\r\n        <div className=\" w-full h-full ||  md:w-[450px] md:h-[475px]  ||  bg-black bg-opacity-80\">\r\n            <div className=\"mt-52 p-16 || md:mt-0\">\r\n                <h1 className=\"text-white text-4xl font-bold\">\r\n                    Sign In\r\n                </h1>\r\n                <form onSubmit={handleSubmit(rhfOnSubmit)}>\r\n                    <div className=\"mt-10 text-white\">\r\n                        <input className=\"my-3 bg-black border-[1px] border-gray-500 w-72 pl-3 py-3.5 rounded-md\" \r\n                            type=\"email\" name=\"email\"  placeholder=\"Email or Mobile Number\" \r\n                            {...register(\"email\", {\r\n                            required: \"Please enter your email or mobile number\",\r\n                            pattern: {\r\n                                value: /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/,\r\n                                message: \"Please enter a valid email address\"\r\n                            }\r\n                        })}/>\r\n                        {errors.email && <p className=\"text-red-600\"> {errors.email?.message || \"Invalid Input\"} </p>}\r\n                        <input className=\"my-3 bg-black border-[1px] border-gray-500 w-72 pl-3 py-3.5 rounded-md\" type=\"password\" name=\"password\"  placeholder=\"Password\" {...register(\"password\", {\r\n                            required: \"Please Enter Password\",\r\n                            minLength: {\r\n                                value:8,\r\n                                message: \"Password must be at least 8 characters long\"\r\n                            }\r\n                        })}/>\r\n                        {errors.password && <p className=\"text-red-600\"> {errors.password?.message || \"Invalid Input\"}</p>}\r\n                    </div>\r\n                    <div className=\"my-3\">\r\n                        <input className=\"bg-red-600 w-72 text-white p-2 cursor-pointer rounded-md\" type=\"submit\" disabled={isLoading} value={isLoading ? \"Loading...\": \"Sign In\"} />\r\n                    </div>\r\n                    {error && <p className=\"text-red-600 mt-4\">{error}</p>}\r\n                </form>\r\n                <p className=\"text-white mt-4\">If you're new here then <Link to=\"/signup\" className=\"text-red-600 font-bold\"> sign-up</Link>. </p>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","// Function to set a cookie\r\nexport const setCookie = (name, value, mins) => {\r\n  let expires = \"\";\r\n  if (mins) {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + mins * 60 * 1000);\r\n    expires = \"; expires=\" + date.toUTCString();\r\n  }\r\n  document.cookie = name + \"=\" + value + expires + \"; path=/\";\r\n};\r\n\r\n// Function to get a cookie by name\r\nexport const getCookie = (name) => {\r\n  const value = `; ${document.cookie}`;\r\n  const parts = value.split(`; ${name}=`);\r\n  if (parts.length === 2) return parts.pop().split(\";\").shift();\r\n  return null;\r\n};\r\n\r\nexport const deleteCookie = (name) => {\r\n  console.log(\"deleteCookie üê∂\");\r\n  document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\r\n};\r\n"],"names":["LoginForm","_errors$email","_errors$password","useEffect","console","log","getCookie","navigate","dispatch","useDispatch","useNavigate","user","currentUser","isLoading","error","useSelector","state","userData","register","handleSubmit","formState","errors","isSubmitting","useForm","stsTokenManager","JSON","parse","setCookie","accessToken","_jsx","className","children","_jsxs","onSubmit","data","signInUser","type","name","placeholder","required","pattern","value","message","email","minLength","password","disabled","Link","to","mins","expires","date","Date","setTime","getTime","toUTCString","document","cookie","parts","split","length","pop","shift","deleteCookie"],"sourceRoot":""}